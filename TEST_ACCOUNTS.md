# テストアカウント情報

## アクセス URL

- **アプリケーション**: http://localhost:3000
- **ログインページ**: http://localhost:3000/login
- **チャットページ**: http://localhost:3000/chat

## テストユーザー

### スーパー管理者アカウント（プロバイダー側）

- **メールアドレス**: super@provider.com
- **パスワード**: password123
- **名前**: スーパー管理者
- **役割**: スーパー管理者 (SUPER_ADMIN)
- **アクセス**: http://localhost:3000/super-admin

### 東京病院 (tokyo001)

#### 病院管理者

- **メールアドレス**: admin@tokyo001.com
- **パスワード**: password123
- **名前**: 病院管理者
- **役割**: 管理者 (ADMIN)
- **アクセス**: http://localhost:3000/admin

#### 医師アカウント

- **メールアドレス**: doctor@tokyo001.com
- **パスワード**: password123
- **名前**: 山田太郎
- **役割**: 医師 (DOCTOR)

#### 看護師アカウント

- **メールアドレス**: nurse@tokyo001.com
- **パスワード**: password123
- **名前**: 佐藤花子
- **役割**: 看護師 (NURSE)

#### 薬剤師アカウント

- **メールアドレス**: pharmacist@tokyo001.com
- **パスワード**: password123
- **名前**: 鈴木一郎
- **役割**: 薬剤師 (PHARMACIST)

### 大阪病院 (osaka001)

#### 病院管理者

- **メールアドレス**: admin@osaka001.com
- **パスワード**: password123
- **名前**: 大阪管理者
- **役割**: 管理者 (ADMIN)

## テスト患者

### 患者 1

- **患者 ID**: P001
- **名前**: 田中太郎
- **スレッド**:
  - 入院時対応 (優先度: HIGH)
  - 薬剤管理 (優先度: NORMAL)
  - 退院準備 (優先度: LOW)

### 患者 2

- **患者 ID**: P002
- **名前**: 佐藤花子

### 患者 3

- **患者 ID**: P003
- **名前**: 鈴木次郎

## デモ手順

### 1. 準備

```bash
# Dockerコンテナが起動していることを確認
docker compose ps

# WebSocketサーバーが起動していることを確認
npm run ws:dev

# Next.jsアプリケーションが起動していることを確認
npm run dev
```

### 2. 2 台の PC でテスト

#### PC1: 医師としてログイン

1. http://localhost:3000/login にアクセス
2. doctor@hospital.com / password123 でログイン
3. 左サイドバーで「田中太郎 (P001)」チャンネルを選択
4. 中央のスレッド一覧で「入院時対応」を選択

#### PC2: 看護師としてログイン

1. http://localhost:3000/login にアクセス
2. nurse@hospital.com / password123 でログイン
3. 左サイドバーで「田中太郎 (P001)」チャンネルを選択
4. 中央のスレッド一覧で「入院時対応」を選択

### 3. リアルタイムメッセージテスト

1. PC1 からメッセージを送信
2. PC2 で即座にメッセージが表示されることを確認
3. PC2 からメッセージを送信
4. PC1 で即座にメッセージが表示されることを確認

### 4. メンション機能テスト

1. メッセージに「@佐藤花子 確認お願いします」と入力
2. メンションが表示されることを確認

### 5. チャンネル切り替えテスト

1. サイドバーで別の患者チャンネルを選択
2. スレッド一覧が切り替わることを確認
3. メッセージエリアが更新されることを確認

## トラブルシューティング

### WebSocket が接続できない

```bash
# WebSocketサーバーのログを確認
# プロセスIDは起動時に表示されます
```

### データベース接続エラー

```bash
# Dockerコンテナの状態を確認
docker compose ps

# コンテナを再起動
docker compose restart
```

### データをリセットしたい

```bash
# データベースをリセット
npx prisma db push --force-reset

# シードデータを再投入
npx tsx scripts/seed.ts
```

## 成功基準チェックリスト

- [ ] 2 台の PC で同時ログイン可能
- [ ] リアルタイムメッセージ送受信が動作
- [ ] チャンネル切り替えが動作
- [ ] スレッド切り替えが動作
- [ ] メッセージが正しく表示される
- [ ] WebSocket 接続が安定している
- [ ] レスポンスが 1 秒以内

## 新機能

### マルチテナント機能

- 各病院のユーザーは自分の組織のデータのみアクセス可能
- スーパー管理者は全組織を管理可能
- 病院管理者は自分の病院のユーザーと病棟を管理可能

### ユーザー設定

- **アクセス**: http://localhost:3000/settings
- パスワード変更が可能

### 新規作成機能

- **患者登録**: チャンネルサイドバーの「+」ボタン
- **スレッド作成**: スレッド一覧の「+」ボタン
